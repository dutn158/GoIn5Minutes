<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Sample of websocket with golang</title>
    <script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
    <script>
      $(function() {
        var ws = new WebSocket("ws://localhost:3001/echo");
        ws.onmessage = function(e) {
          console.log(event.data)
        }
        var ul = $('#msg-list');
        $('#sendBtn').click(function(){
          var data = $('#name').val();
          ws.send(data)
          console.log(data)
          $('<li>').text(data).appendTo(ul)
        });
      });
    </script>
  </head>
  <body>
    <input id="name" type="text" />
    <input id="sendBtn" type="button" value="send" />
    <ul id="msg-list">

    </ul>
  </body>
</html>
